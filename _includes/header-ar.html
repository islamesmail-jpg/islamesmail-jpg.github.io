<header class="topbar">
  <div class="container nav">
    <!-- اللوجو -->
    <a class="brand" href="index.html" aria-label="الرئيسية">
      <img src="https://g.top4top.io/p_3536gqqv70.png" alt="إسلام للتسويق العقاري">
    </a>

    <!-- روابط الديسكتوب -->
    <nav class="menu-center" aria-label="روابط رئيسية">
      <a href="sokhna.html">العين السخنة</a>
      <a href="north.html">الساحل الشمالي</a>
      <a href="Cairo.html">القاهرة الجديدة</a>
      <a href="resale.html">إعادة البيع</a>
      <a href="list.html">أعرض وحدتك</a>
    </nav>

    <!-- زر اللغة + القائمة للموبايل -->
    <div class="controls">
      <button class="lang" type="button" data-lang="en" aria-label="English">EN</button>
      <button id="pagesBtn" class="pages-btn" aria-expanded="false" aria-controls="mMenu">القائمة</button>
    </div>
  </div>

  <!-- قائمة الموبايل -->
  <nav id="mMenu" class="menu-mobile" aria-label="قائمة الجوال">
    <a href="sokhna.html">العين السخنة</a>
    <a href="north.html">الساحل الشمالي</a>
    <a href="Cairo.html">القاهرة الجديدة</a>
    <a href="resale.html">إعادة البيع</a>
    <a href="list.html">أعرض وحدتك</a>
  </nav>
</header>

<script>
/* فتح/غلق قائمة الموبايل */
const pagesBtn = document.getElementById('pagesBtn');
const mMenu = document.getElementById('mMenu');
pagesBtn?.addEventListener('click',(e)=>{
  e.stopPropagation();
  const open=mMenu.classList.toggle('open');
  pagesBtn.setAttribute('aria-expanded',open?'true':'false');
});
document.addEventListener('click',(e)=>{
  if(!e.target.closest('#mMenu') && !e.target.closest('#pagesBtn')){
    mMenu.classList.remove('open');
    pagesBtn?.setAttribute('aria-expanded','false');
  }
});

/* تبديل اللغة: من العربية → الإنجليزية */
(function () {
  function targetEN(file){
    if(/-en\.html$/i.test(file)) return file;
    var m=file.match(/^(.*?)(?:\.html)?$/i);
    return (m?m[1]:"index")+"-en.html";
  }
  function goEN(){
    var file=(location.pathname.split("/").pop()||"index.html");
    var dest=targetEN(file);
    var prefix=location.pathname.replace(/[^\/]+$/,"");
    location.href=prefix+dest;
  }
  document.querySelectorAll('[data-lang="en"]').forEach(btn=>{
    btn.addEventListener('click',goEN);
  });
})();
</script>
