backend:
  # نستخدم 'github' للمصادقة عبر GitHub OAuth
  name: github 
  # يجب أن يكون هذا اسم مستودعك بالكامل (اسم المستخدم/اسم المستودع)
  repo: islamesmail-jpg/islamesmail-jpg.github.io 
  branch: main # اسم الفرع الرئيسي لديك

  # 🛑 قاعدة العنوان الأساسي (ضرورية لـ GitHub Pages مع نطاق خاص)
  base_url: https://islamproperty.com 
  # عنوان OAuth لتحويل المستخدمين لتسجيل الدخول
  auth_base_url: https://github.com/login/oauth
  # ضع مفتاح Client ID الخاص بك الذي حصلت عليه من GitHub
  client_id: '0v23113Sq053lJRxRYa4' 

publish_mode: editorial_workflow
locale: 'ar' # دعم اللغة العربية

# 🛑 مسارات رفع الوسائط: 
media_folder: "static/media/uploads"
public_folder: "/static/media/uploads"

collections:
  # 🏙️ 1. المناطق (regions)
  - name: "regions"
    label: "1. المناطق العقارية"
    folder: "content/regions"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "اسم المنطقة", name: "title", widget: "string" }
      - { label: "الوصف", name: "description", widget: "text", required: false }
      - { label: "صورة المنطقة", name: "image", widget: "image", required: false }

  # 🏗️ 2. المشاريع (projects)
  - name: "projects"
    label: "2. المشاريع العقارية"
    folder: "content/projects"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "اسم المشروع", name: "title", widget: "string" }
      - { label: "المطور العقاري", name: "developer", widget: "string", required: false }
      - { label: "المنطقة التابع لها", name: "region", widget: "relation", collection: "regions", search_fields: ["title"], value_field: "title", display_fields: ["title"] }
      - { label: "لوجو المطور", name: "developer_logo", widget: "image", required: false }
      - { label: "صور المشروع (قائمة)", name: "images", widget: "list", field: { label: "صورة", name: "image", widget: "image" } }
      - { label: "وصف المشروع", name: "description", widget: "markdown" }
      - { label: "حالة المشروع", name: "status", widget: "select", options: ["متاح للبيع", "اكتمل", "قريبًا"] }

  # 🏠 3. الوحدات (units)
  - name: "units"
    label: "3. الوحدات العقارية"
    folder: "content/units"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "عنوان الوحدة", name: "title", widget: "string" }
      - { label: "المشروع التابع له", name: "project", widget: "relation", collection: "projects", search_fields: ["title"], value_field: "title", display_fields: ["title"] }
      - { label: "المساحة (متر مربع)", name: "area", widget: "number", value_type: "float" }
      - { label: "السعر (جنيه مصري)", name: "price", widget: "number", value_type: "int" }
      - { label: "حالة الوحدة", name: "unit_status", widget: "select", options: ["متاحة", "مباعة", "إعادة بيع"] }
      - { label: "صور الوحدة (قائمة)", name: "images", widget: "list", field: { label: "صورة", name: "image", widget: "image" } }
